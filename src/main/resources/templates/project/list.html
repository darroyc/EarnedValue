<!DOCTYPE html>
<html xmlns:layout="http://www.w3.org/1999/xhtml"
	layout:decorate="~{layouts/layout}" xmlns:th="http://www.thymeleaf.org">
<head>
<title>Listado proyectos</title>
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col" layout:fragment="content">
				<div>
					<div class="card mb-3">
						<div class="card-header">Listado proyectos</div>
						<div class="card-body">
							<div class="button-bar">
								<a class="btn btn-primary text-white"
									href="/addProject">Agregar</a>
							</div>
							<div class="col-lg-12">
								<form action="#" th:action="@{/findProject}"
									th:object="${blankProject}" method="POST">

									<div class="form-row">
										<div class="col-md-4">
											<div class="form-group">
												<label for="name">Nombre</label> <input type="text"
													id="name" class="form-control" th:field="*{name}">
											</div>
										</div>
										<div class="col-md-4">
											<div class="form-group">
												<label for="description">Descripción</label> <input type="text"
													id="description" class="form-control" th:field="*{description}">
											</div>
										</div>
									</div>

									<input class="btn btn-primary" type="submit" value="Buscar" />
								</form>
							</div>
							<br>

							<div class="col-lg-12">

								<div class="table-responsive">
									<table class="table table-bordered" id="dataTable" width="100%"
										cellspacing="0">
										<thead>
											<tr>
												<th>Id</th>
												<th>Nombre</th>
												<th>Descripción</th>
												<th>Fecha inicio</th>
												<th>Fecha fin</th>
												<th>Estado</th>
												<th>Acciones</th>
											</tr>
										</thead>
										<tbody th:each="e : ${projects}">
											<tr>
												<td th:text="${e.id}"></td>
												<td th:text="${e.name}"></td>
												<td th:text="${e.description}"></td>
												<td th:text="${e.getStartDate()}"></td>
												<td th:text="${e.getEndDate()}"></td>
												<td th:text="${e.getState()}"></td>
												<td> <a class="btn btn-primary text-white" th:href="@{'/project/' + ${e.id}}"> Detalle</a> 
												<a class="btn btn-danger text-white" th:href="@{'/project/delete/' + ${e.id}}">Eliminar</a></td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>

				</div>
			</div>
		</div>
	</div>
</body>
</html>